## 131. 分割回文串

给你一个字符串 s，请你将 s 分割成一些子串，使每个子串都是 回文串。返回 s 所有可能的分割方案。

 

示例 1：

>输入：s = "aab"  
>输出：\[["a","a","b"],["aa","b"]]  

示例 2：

>输入：s = "a"  
>输出：\[["a"]]  
 

提示：

- 1 <= s.length <= 16
- s 仅由小写英文字母组成

## 题解

### 解法一、

```java
class Solution {

    private Map<Integer, List<List<String>>> memo = new HashMap<>();

    public List<List<String>> partition(String s) {
        return dp(s.toCharArray(), 0);
    }

    boolean check(char[] str, int i, int j) {
        while (i < j) {
            if (str[i] != str[j]) return false;
            i++; j--;
        }
        return true;
    }

    List<List<String>> dp(char[] str, int i) {
        if (i == str.length) return List.of(new ArrayList<>());
        if (!memo.containsKey(i)) {
            List<List<String>> list = new ArrayList<>();
            for (int j = i; j < str.length; j++) {
                if (check(str, i, j)) {
                    String word = new String(str, i, j - i + 1);
                    for (List<String> row: dp(str, j + 1)) {
                        List<String> item = new ArrayList<>();
                        item.add(word);
                        for (String s: row) item.add(s);
                        list.add(item);
                    }               
                }
            }
            memo.put(i, list);
        }
        return memo.get(i);
    }
}
```