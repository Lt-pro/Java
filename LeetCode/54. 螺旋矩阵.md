## 54. 螺旋矩阵

给你一个 m 行 n 列的矩阵 matrix ，请按照 顺时针螺旋顺序 ，返回矩阵中的所有元素。

 

示例 1：

![s1](./figs/spiral1.jpg)

>输入：matrix = \[[1,2,3],[4,5,6],[7,8,9]]  
>输出：[1,2,3,6,9,8,7,4,5]  


示例 2：

![s2](./figs/spiral.jpg)

>输入：matrix = \[[1,2,3,4],[5,6,7,8],[9,10,11,12]]  
>输出：[1,2,3,4,8,12,11,10,9,5,6,7]  
 

提示：

- m == matrix.length
- n == matrix[i].length
- 1 <= m, n <= 10
- -100 <= matrix[i][j] <= 100


## 题解

### 解法一、模拟

```java
class Solution {
    private static final int[] steps = new int[]{0, 1, 0, -1};

    // 设想有一个点(x, y)以螺旋方式遍历矩阵(x0, y0), (x1, y1)的元素
    public List<Integer> spiralOrder(int[][] matrix) {
        int x0 = 0, y0 = 0, x1 = matrix.length - 1, y1 = matrix[0].length - 1;
        int cnt = 0;    // 偶数使用y1 - y0作为步数，奇数使用x1 - x0作为步数
        int x = 0, y = -1, dx = 0, dy = 0;
        List<Integer> result = new ArrayList<>();
        while (x0 <= x1 && y0 <= y1) {
            dx = steps[cnt % 4];
            dy = steps[(cnt + 1) % 4];
            int k = 0, step = cnt % 2 == 0? y1 - y0: x1 - x0;
            do {
                x += dx;
                y += dy;
                result.add(matrix[x][y]);
            } while (++k <= step);
            int r = cnt % 4;
            if (r == 0) {
                x0++;
            } else if (r == 1) {
                y1--;
            } else if (r == 2) {
                x1--;
            } else {
                y0++;
            }
            cnt++;
        }
        return result;
    }
}
```