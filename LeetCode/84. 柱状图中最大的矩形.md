## 84. 柱状图中最大的矩形

给定 n 个非负整数，用来表示柱状图中各个柱子的高度。每个柱子彼此相邻，且宽度为 1 。

求在该柱状图中，能够勾勒出来的矩形的最大面积。

 

示例 1:

![h1](./figs/histogram.jpg)

>输入：heights = [2,1,5,6,2,3]  
>输出：10  
>解释：最大的矩形为图中红色区域，面积为 10  


示例 2：

![h2](./figs/histogram-1.jpg)

>输入： heights = [2,4]  
>输出： 4  
 

提示：

- 1 <= heights.length <=$10^5$
- 0 <= heights[i] <= $10^4$


## 题解

### 解法一、

```java
class Solution {
    public int largestRectangleArea(int[] heights) {
        // 枚举每一个柱子，找到左边第一个严格小于的柱子和右边第一个小于的柱子
        int n = heights.length, top = -1, ans = 0;
        int[] stack = new int[n];
        int[] lefts = new int[n], rights = new int[n];
        Arrays.fill(rights, n);
        for (int i = 0; i < n; i++) {
            while (top != -1 && heights[stack[top]] >= heights[i]) {
                rights[stack[top--]] = i;
            }
            lefts[i] = top != -1? stack[top]: -1;
            stack[++top] = i;
        }
        for (int i = 0; i < n; i++) {
            ans = Math.max(ans, (rights[i] - lefts[i] - 1) * heights[i]);
        }
        return ans;
    }
}
```